<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <link rel="stylesheet" type= "text/css" href="../css/zettelkasten.css"> <!-- Include your CSS file here -->
    <title>Many-to-Many Relationship</title>

</head>
<body>
    <div class="wrapper">
        <div id="stars"></div>
        <div id="stars2"></div>
        <div id="stars3"></div>
    </div>
    <div class="content">
        <h1 id="many-to-many-relationship">Many-to-Many Relationship</h1>
        <p>A many-to-many relationship in an SQL-based database is used to map many objects of one type, to many objects of another type.</p>
        <h2 id="example">Example</h2>
        <p>Let's say you are configuring users and roles for the security of an application. Usually, a user can have many roles, and a role can be attributed to many users. To create this relationship, you will need, 3 tables:</p>
        <div class="sourceCode" id="cb1"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true"></a><span class="co">-- Table to store information about users </span></span>
        <span id="cb1-2"><a href="#cb1-2" aria-hidden="true"></a><span class="kw">CREATE</span> <span class="kw">TABLE</span> users (</span>
        <span id="cb1-3"><a href="#cb1-3" aria-hidden="true"></a>    user_id <span class="dt">INT</span> <span class="kw">PRIMARY</span> <span class="kw">KEY</span>,</span>
        <span id="cb1-4"><a href="#cb1-4" aria-hidden="true"></a>    name <span class="dt">VARCHAR</span>(<span class="dv">255</span>) <span class="kw">NOT</span> <span class="kw">NULL</span></span>
        <span id="cb1-5"><a href="#cb1-5" aria-hidden="true"></a>);</span>
        <span id="cb1-6"><a href="#cb1-6" aria-hidden="true"></a></span>
        <span id="cb1-7"><a href="#cb1-7" aria-hidden="true"></a><span class="co">-- Table to store information about roles</span></span>
        <span id="cb1-8"><a href="#cb1-8" aria-hidden="true"></a><span class="kw">CREATE</span> <span class="kw">TABLE</span> <span class="kw">roles</span>(</span>
        <span id="cb1-9"><a href="#cb1-9" aria-hidden="true"></a>    role_id <span class="dt">INT</span> <span class="kw">PRIMARY</span> <span class="kw">KEY</span>,</span>
        <span id="cb1-10"><a href="#cb1-10" aria-hidden="true"></a>    name <span class="dt">VARCHAR</span>(<span class="dv">255</span>) <span class="kw">NOT</span> <span class="kw">NULL</span></span>
        <span id="cb1-11"><a href="#cb1-11" aria-hidden="true"></a>);</span>
        <span id="cb1-12"><a href="#cb1-12" aria-hidden="true"></a></span>
        <span id="cb1-13"><a href="#cb1-13" aria-hidden="true"></a><span class="co">-- Junction table to represent the many-to-many relationship</span></span>
        <span id="cb1-14"><a href="#cb1-14" aria-hidden="true"></a><span class="kw">CREATE</span> <span class="kw">TABLE</span> users_roles (</span>
        <span id="cb1-15"><a href="#cb1-15" aria-hidden="true"></a>    user_id <span class="dt">INT</span>,</span>
        <span id="cb1-16"><a href="#cb1-16" aria-hidden="true"></a>    role_id <span class="dt">INT</span>,</span>
        <span id="cb1-17"><a href="#cb1-17" aria-hidden="true"></a>    <span class="kw">PRIMARY</span> <span class="kw">KEY</span> (user_id, role_id),</span>
        <span id="cb1-18"><a href="#cb1-18" aria-hidden="true"></a>    <span class="kw">FOREIGN</span> <span class="kw">KEY</span> (user_id) <span class="kw">REFERENCES</span> users(user_id),</span>
        <span id="cb1-19"><a href="#cb1-19" aria-hidden="true"></a>    <span class="kw">FOREIGN</span> <span class="kw">KEY</span> (role_id) <span class="kw">REFERENCES</span> <span class="kw">roles</span>(role_id)</span>
        <span id="cb1-20"><a href="#cb1-20" aria-hidden="true"></a>);</span>
        <span id="cb1-21"><a href="#cb1-21" aria-hidden="true"></a></span></code></pre></div>
        <p>The <strong>books</strong> table stores information about each book, with a unique <code>book_id</code> as the primary key.<br />
        The <strong>authors</strong> table stores information about each author, with a unique <code>author_id</code> as the primary key.<br />
        The <strong>book_authors</strong> table is the junction table that links books to authors. It contains foreign keys (<code>book_id</code> and <code>author_id</code>) referencing the primary keys of the books and authors tables, respectively. The combination of these foreign keys forms the primary key of the junction table.</p>
        <h2 id="tags">Tags</h2>
    </div>
</body>
</html>
